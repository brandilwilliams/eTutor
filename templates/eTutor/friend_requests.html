{% extends 'base.html' %}
{% load static %}
{% block meta %}
<script src="{% static 'js/friend_requests.js' %}" defer></script>
{% endblock meta %}
{% block content %}
<div class="tc">
    <article class="mw12 center bg-white br3 pa3 pa4-ns mv3 ba b--black-10">
        <h2>Friend Requests</h2>
        {% for new in new_list %}
        <main class="mw6 center">
            <ul class="dt w-100  pb2 mt2">
                <li id='new-selector' class="bb b--black-05">
                    <div class="dtc v-mid pl3">
                        <p id='new-name-1' class="f5 fw6 db black link dim">{{new.user_one}} accepted your friend request!</p>
                        <p id='new-name-2' class="f5 fw6 db black link dim">{{new.user_two}} accepted your friend request!</p>
                    </div>
                    <div class="dtc v-mid pl6">
                        <form class="w-100 tr">
                            <button class='f6 button-reset bg-white ba b--black-10 dim pointer pv1 black-60' type='button'
                            id='mark-read'>Mark as read</button>
                        </form>
                    </div>
                </li>
            </ul>
        </main>
        {% endfor %}
        {% for friend_request in request_list_one %}
        <main class="mw6 center">
            <ul class="dt w-100  pb2 mt2">
                <li id='user-selector' class="bb b--black-05">
                    <div class="dtc v-mid pl3">
                        <p id='friend-name' class="f5 fw6 db black link dim">{{friend_request.user_two.username}} &nbsp</p>
                        <p class="f6 fw4 mt0 mb0 black-80">Primary Languages: {{friend_request.user_two.primary_language.name}}</p>
                        <p class="f6 fw4 mt0 mb0 black-80">Wanted Language: {{friend_request.user_two.wanted_languages.name}}</p>
                    </div>
                    <div class="dtc v-mid pl6">
                        <form class="w-100 tr">
                            <button class='f6 button-reset bg-white ba b--black-10 dim pointer pv1 black-60' type='button'
                            id='accept-{{friend_request.user_two.username}}'>Accept</button>
                            <button class='f6 button-reset bg-white ba b--black-10 dim pointer pv1 black-60' type='button'
                            id='decline-{{friend_request.user_two.username}}'>Decline</button>
                        </form>
                    </div>
                </li>
            </ul>
        </main>
        {% endfor %}
        {% for friend_request in request_list_two %}
        <main class="mw6 center">
            <ul class="dt w-100  pb2 mt2">
                <li id='user-selector' class="bb b--black-05">
                    <div class="dtc v-mid pl3">
                        <p id='friend-name' class="f5 fw6 db black link dim">{{friend_request.user_one.username}} &nbsp</p>
                        <p class="f6 fw4 mt0 mb0 black-80">Primary Languages: {{friend_request.user_one.primary_language.name}}</p>
                        <p class="f6 fw4 mt0 mb0 black-80">Wanted Language: {{friend_request.user_one.wanted_languages.name}}</p>
                    </div>
                    <div class="dtc v-mid pl6">
                        <form class="w-100 tr">
                            <button class='f6 button-reset bg-white ba b--black-10 dim pointer pv1 black-60' type='button'
                            id='accept-{{friend_request.user_one.username}}'>Accept</button>
                            <button class='f6 button-reset bg-white ba b--black-10 dim pointer pv1 black-60' type='button'
                            id='decline-{{friend_request.user_one.username}}'>Decline</button>
                        </form>
                    </div>
                </li>
            </ul>
        </main>
        {% endfor %}
    </article>
</div>
{% endblock content %}